# PWA Setup Guide - Everlast Intranet

The Everlast Intranet app is configured as a Progressive Web App (PWA), allowing users to install it on their devices and use it like a native app.

## ‚úÖ PWA Features Enabled

- ‚úÖ **Installable** - Users can install the app on their devices
- ‚úÖ **Offline Support** - Service worker caches assets for offline use
- ‚úÖ **Standalone Mode** - Runs in its own window when installed
- ‚úÖ **App Icons** - Custom icons for home screen
- ‚úÖ **Theme Colors** - Brand colors (#005d99) for status bar
- ‚úÖ **Install Prompt** - Automatic prompt to install the app

## üì± How to Install

### On Mobile Devices

#### iOS (Safari)
1. Open the app in Safari
2. Tap the **Share** button (square with arrow)
3. Select **"Add to Home Screen"**
4. Tap **"Add"**

#### Android (Chrome/Edge)
1. Open the app in Chrome or Edge
2. You'll see an **"Install"** prompt at the bottom
3. Tap **"Install"** or use the menu ‚Üí **"Install app"**

### On Desktop

#### Chrome/Edge (Windows/Linux)
1. Look for the install icon (‚ûï) in the address bar
2. Click it and select **"Install"**
3. Or go to Menu ‚Üí **"Install Everlast Intranet"**

#### Safari (macOS)
1. Go to **File** ‚Üí **"Add to Dock"**
2. The app will appear in your Dock

## üîß Requirements

### For Development
- The app works in development mode with PWA features enabled
- Service worker runs in development (via `devOptions.enabled: true`)

### For Production
- **HTTPS Required** - PWAs require HTTPS (except localhost)
- The app must be served over HTTPS to be installable
- Service worker will cache assets automatically

## üé® PWA Configuration

### Manifest Settings
- **Name**: Everlast Intranet
- **Short Name**: Everlast
- **Theme Color**: #005d99 (Everlast Blue)
- **Background Color**: #ffffff
- **Display Mode**: standalone (runs like a native app)
- **Orientation**: portrait (mobile-first)

### Icons
Currently using `vite.svg` as placeholder. To add custom icons:

1. Create icon files in `frontend/public/`:
   - `icon-192x192.png`
   - `icon-512x512.png`
   - `apple-touch-icon.png` (180x180)

2. Update `vite.config.ts` manifest icons section

### Service Worker
- Automatically generated by VitePWA plugin
- Caches static assets (JS, CSS, HTML, images)
- Implements network-first strategy for API calls
- Auto-updates when new version is available

## üöÄ Deployment Checklist

Before deploying to production:

- [ ] Add custom app icons (replace vite.svg)
- [ ] Ensure HTTPS is enabled
- [ ] Test install prompt on mobile devices
- [ ] Verify offline functionality
- [ ] Test on iOS Safari and Android Chrome
- [ ] Update manifest with production URL

## üìù Custom Icons

To add custom icons:

1. **Create icon files** (recommended sizes):
   - `icon-192x192.png` - Android home screen
   - `icon-512x512.png` - Android splash screen
   - `apple-touch-icon.png` - iOS home screen (180x180)

2. **Place in** `frontend/public/` directory

3. **Update** `vite.config.ts`:
```typescript
icons: [
  {
    src: 'icon-192x192.png',
    sizes: '192x192',
    type: 'image/png',
    purpose: 'any'
  },
  {
    src: 'icon-512x512.png',
    sizes: '512x512',
    type: 'image/png',
    purpose: 'any maskable'
  }
]
```

4. **Update** `index.html` apple-touch-icon links

## üîç Testing PWA Features

### Check if PWA is working:
1. Open browser DevTools (F12)
2. Go to **Application** tab
3. Check **Manifest** section
4. Check **Service Workers** section
5. Test **Install** prompt

### Test Install Prompt:
- The prompt appears automatically after 3 seconds
- Or trigger manually via browser menu
- Should work on Chrome, Edge, Safari (iOS)

## üêõ Troubleshooting

### Install prompt not showing:
- Ensure you're on HTTPS (or localhost)
- Clear browser cache
- Check browser console for errors
- Verify manifest is valid

### Service worker not registering:
- Check browser console for errors
- Ensure `vite-plugin-pwa` is installed
- Verify `devOptions.enabled: true` in config

### Icons not showing:
- Verify icon files exist in `public/` folder
- Check manifest icon paths
- Clear browser cache

## üìö Resources

- [PWA Documentation](https://web.dev/progressive-web-apps/)
- [VitePWA Plugin](https://vite-pwa-org.netlify.app/)
- [Web App Manifest](https://web.dev/add-manifest/)

---

**Note**: For production deployment, ensure your hosting provider supports HTTPS and proper MIME types for service workers.
